<?php
 
if (php_sapi_name() !== 'cli') {
    exit;
}

require __DIR__ . '/vendor/autoload.php';

$helper = new Lib\Helper;
$app = new Lib\App($helper);

$app->registerCommand('get-salary-dates', [
    new Commands\Get_Salary_Dates( $argv , new \Lib\CSV('paycheck_dates.csv','w') ),
    'run'
]);

$app->registerCommand('help', [
    new Commands\Help($argv, $helper),
    'run'
]);

$app->runCommand($argv);